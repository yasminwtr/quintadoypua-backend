CREATE TABLE client (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    password VARCHAR(100) NOT NULL
);

CREATE TABLE employeePosition (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL
);

CREATE TABLE employee (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    password VARCHAR(100) NOT NULL,
    positionId INTEGER REFERENCES employeePosition(id)
);

CREATE TABLE room (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    description TEXT,
    checkIn TIME,
    checkOut TIME,
    maxGuest INTEGER,
    daily NUMERIC(10, 2) NOT NULL,
    url VARCHAR(500)
);

CREATE TABLE services (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL
);

CREATE TABLE roomServices (
    id SERIAL PRIMARY KEY,
    serviceId INTEGER REFERENCES services(id),
    roomId INTEGER REFERENCES room(id)
);

CREATE TABLE reservationStatus (
    id SERIAL PRIMARY KEY,
    description VARCHAR(100) NOT NULL
);

CREATE TABLE reservation (
    id SERIAL PRIMARY KEY,
    roomId INTEGER REFERENCES room(id),
    startDate DATE NOT NULL,
    endDate DATE NOT NULL,
    solicitationDate DATE NOT NULL,
    nameGuest VARCHAR(100), 
    contactGuest VARCHAR(20), 
    emailGuest VARCHAR(100), 
    observation TEXT, 
    adults INTEGER, 
    children INTEGER, 
    totalValue NUMERIC(10, 2) NOT NULL,
    statusId INTEGER REFERENCES reservationStatus(id),
    checkIn TIMESTAMP,
    checkOut TIMESTAMP,
    internalReservation BOOLEAN DEFAULT FALSE
);

CREATE TABLE payment (
    id SERIAL PRIMARY KEY,
    reservationId INTEGER REFERENCES reservation(id),
    paymentDate DATE NOT NULL,
    paymentTypeId INTEGER REFERENCES paymentType(id)
);

CREATE TABLE paymentType (
    id SERIAL PRIMARY KEY,
    description VARCHAR(100) NOT NULL
);

--- INSERTS

INSERT INTO client (name, email, password) VALUES
('João Silva', 'joao@example.com', 'senha123'),
('Ana Santos', 'ana@example.com', 'senhasegura'),
('Pedro Oliveira', 'pedro@example.com', 'senhapedro'),
('Maria Costa', 'maria@example.com', 'senha1234'),
('Lucas Pereira', 'lucas@example.com', 'senhalucas');

INSERT INTO employeePosition (name) VALUES
('Gerente'),
('Recepcionista'),
('Arrumadeira'),
('Guarda de Segurança'),
('Trabalhador de Manutenção');

INSERT INTO employee (name, email, password, positionId) VALUES
('Sara Almeida', 'sara@example.com', 'senhasara', 1),
('Marcos Santos', 'marcos@example.com', 'senhamarcos', 2),
('Emília Oliveira', 'emilia@example.com', 'senhaemilia', 3),
('José Silva', 'jose@example.com', 'senhajose', 4),
('Olívia Costa', 'olivia@example.com', 'senhaolivia', 5);

INSERT INTO room (name, description, checkIn, checkOut, maxGuest, daily) VALUES
('Quarto Padrão', 'Amenidades básicas incluídas', '14:00', '12:00', 2, 100.00),
('Quarto Deluxe', 'Espaço e amenidades adicionais', '15:00', '11:00', 3, 150.00),
('Suíte', 'Acomodação luxuosa com área de estar separada', '16:00', '10:00', 4, 200.00),
('Quarto Família', 'Ideal para famílias com crianças', '14:00', '12:00', 4, 180.00),
('Cobertura', 'Luxo no último andar com vistas panorâmicas', '17:00', '10:00', 2, 300.00);

INSERT INTO reservationStatus (description) VALUES
('Aguardando pagamento'),
('Pendente'),
('Confirmada'),
('Cancelada'),
('Check-In Realizado'),
('Check-Out Realizado'),
('Finalizada');

INSERT INTO reservation (clientId, employeeId, roomId, startDate, endDate, solicitationDate, nameGuest, contactGuest, emailGuest, observation, adults, children, totalValue, statusId, checkIn, checkOut, internalReservation) VALUES
(1, 2, 1, '2024-04-10', '2024-04-15', '2024-04-08', 'Fernanda Silva', '123456789', 'fernanda@example.com', 'Quarto com vista para o mar', 2, 0, 500.00, 3, NULL, NULL, FALSE),
(2, 3, 2, '2024-04-12', '2024-04-14', '2024-04-10', 'Carlos Santos', '987654321', 'carlos@example.com', 'Preferência por quarto não fumante', 1, 0, 300.00, 3, NULL, NULL, FALSE),
(3, 4, 3, '2024-04-15', '2024-04-20', '2024-04-13', 'Ana Oliveira', '654987321', 'ana@example.com', 'Necessidade de berço para bebê', 2, 1, 1000.00, 1, NULL, NULL, FALSE),
(4, 5, 4, '2024-04-18', '2024-04-22', '2024-04-15', 'Rafael Costa', '987123654', 'rafael@example.com', 'Chegada tardia prevista para 22:00', 2, 0, 720.00, 2, NULL, NULL, FALSE),
(5, 2, 5, '2024-04-20', '2024-04-25', '2024-04-18', 'Patrícia Pereira', '123789456', 'patricia@example.com', 'Aniversário de casamento, necessidade de arranjos especiais', 2, 0, 1500.00, 3, NULL, NULL, FALSE),
(1, 3, 1, '2024-04-25', '2024-04-30', '2024-04-20', 'Jorge Silva', '456789123', 'jorge@example.com', 'Pedido de cama extra', 2, 0, 600.00, 3, NULL, NULL, FALSE),
(2, 4, 2, '2024-04-28', '2024-05-02', '2024-04-25', 'Laura Santos', '789456123', 'laura@example.com', 'Preferência por vista para o jardim', 1, 1, 750.00, 3, NULL, NULL, FALSE),
(3, 5, 3, '2024-05-02', '2024-05-05', '2024-04-30', 'Mariana Oliveira', '321654987', 'mariana@example.com', 'Necessidade de late check-out até 15:00', 1, 0, 600.00, 1, NULL, NULL, FALSE),
(4, 2, 4, '2024-05-05', '2024-05-10', '2024-05-03', 'Rodrigo Costa', '789123654', 'rodrigo@example.com', 'Solicitação de reserva de garagem para veículo', 2, 0, 900.00, 3, NULL, NULL, FALSE),
(5, 3, 5, '2024-05-08', '2024-05-12', '2024-05-06', 'Camila Pereira', '456789321', 'camila@example.com', 'Preferência por andar alto', 2, 0, 1200.00, 3, NULL, NULL, FALSE);
